{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\n// 导入生命周期函数\nimport { onMounted } from 'vue';\nexport default {\n  name: 'ChinaMap',\n  setup() {\n    const getdata = () => {\n      // then请求成功，catch请求失败\n      axios.get('http://localhost:8080/china.json').then(res => {\n        // 输出矢量地图数据\n        console.log(res.data);\n        axios.get('http://localhost:8888/chinamap/list').then(snum => {\n          // 输出录取人数数据\n          console.log(snum.data);\n          // 处理数据\n          const data = snum.data;\n          var area = [];\n          var sumb = [];\n          // 用循环遍历数据\n          for (var item = 0; item < data.length; item++) {\n            area.push(data[item].name);\n            sumb.push(data[item].value);\n          }\n          // 饼图数据\n          var Cdata = [];\n          for (var i = 0; i < area.length; i++) {\n            Cdata.push({\n              value: sumb[i],\n              name: area[i]\n            });\n          }\n          var chinaCharts = echarts.init(document.getElementById('CN_Map'));\n          // 在axios的回调函数中注册地图矢量数据\n          echarts.registerMap('chinaMap', res.data);\n          var CNoption = {\n            title: {\n              left: 'center',\n              text: '2022年各省录取人数'\n            },\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b}<br/>{a[value]}'\n            },\n            // visualMap: {\n            //   min: 0,\n            //   max: 4100,\n            //   text: ['High', 'Low'],\n            //   realtime: false,\n            //   calculable: true,\n            //   inRange: {\n            //     color: ['lightskyblue', 'yellow', 'orangered']\n            //   }\n            // },\n            // geo: {\n\n            // },\n            series: [{\n              type: 'map',\n              map: 'chinaMap',\n              roam: true,\n              //允许缩放以及拖动效果\n              label: {\n                show: true //显示标签\n              },\n\n              data: Cdata,\n              zoom: 1.5,\n              //初始的大小比例\n              // center: [],设置地图中心店的坐标\n              //鼠标悬停效果\n              emphasis: {\n                label: {\n                  textStyle: {\n                    color: 'pink'\n                  } //悬停时字体颜色\n                },\n\n                itemStyle: {\n                  areaColor: 'red' //区域颜色\n                }\n              },\n\n              itemStyle: {\n                // 设置边框为白色\n                normal: {\n                  borderWidth: 0.5,\n                  //边界线大小\n                  borderColor: '#fff' //边界线颜色\n                }\n              }\n            }]\n          };\n\n          chinaCharts.setOption(CNoption);\n        }).catch(error => {\n          console.log(error);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    // 调用，执行函数\n    onMounted(() => {\n      getdata();\n    });\n  }\n};","map":{"version":3,"names":["axios","echarts","onMounted","name","setup","getdata","get","then","res","console","log","data","snum","area","sumb","item","length","push","value","Cdata","i","chinaCharts","init","document","getElementById","registerMap","CNoption","title","left","text","tooltip","trigger","formatter","series","type","map","roam","label","show","zoom","emphasis","textStyle","color","itemStyle","areaColor","normal","borderWidth","borderColor","setOption","catch","error"],"sources":["D:\\VUE_project\\data_screen\\src\\components\\ChinaMap.vue"],"sourcesContent":["<template>\r\n  <div id=\"CN_Map\" style=\"width: 800px;height: 800px;\"></div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\nimport * as echarts from 'echarts'\r\n// 导入生命周期函数\r\nimport { onMounted } from 'vue';\r\nexport default {\r\n  name: 'ChinaMap',\r\n  setup() {\r\n    const getdata = () => {\r\n      // then请求成功，catch请求失败\r\n      axios.get('http://localhost:8080/china.json').then((res) => {\r\n        // 输出矢量地图数据\r\n        console.log(res.data);\r\n        axios.get('http://localhost:8888/chinamap/list').then((snum) => {\r\n          // 输出录取人数数据\r\n          console.log(snum.data);\r\n          // 处理数据\r\n          const data = snum.data\r\n          var area = [];\r\n          var sumb = [];\r\n          // 用循环遍历数据\r\n          for (var item = 0; item < data.length; item++) {\r\n            area.push(data[item].name);\r\n            sumb.push(data[item].value);\r\n          }\r\n          // 饼图数据\r\n          var Cdata = [];\r\n          for (var i = 0; i < area.length; i++) {\r\n            Cdata.push({\r\n              value: sumb[i],\r\n              name: area[i]\r\n            })\r\n          }\r\n          var chinaCharts = echarts.init(document.getElementById('CN_Map'));\r\n          // 在axios的回调函数中注册地图矢量数据\r\n          echarts.registerMap('chinaMap', res.data);\r\n          var CNoption = {\r\n            title: {\r\n              left: 'center',\r\n              text: '2022年各省录取人数'\r\n            },\r\n            tooltip: {\r\n              trigger: 'item',\r\n              formatter: '{b}<br/>{a[value]}'\r\n            },\r\n            // visualMap: {\r\n            //   min: 0,\r\n            //   max: 4100,\r\n            //   text: ['High', 'Low'],\r\n            //   realtime: false,\r\n            //   calculable: true,\r\n            //   inRange: {\r\n            //     color: ['lightskyblue', 'yellow', 'orangered']\r\n            //   }\r\n            // },\r\n            // geo: {\r\n\r\n            // },\r\n            series: [{\r\n              type: 'map',\r\n              map: 'chinaMap',\r\n              roam: true,  //允许缩放以及拖动效果\r\n              label: {\r\n                show: true  //显示标签\r\n              },\r\n              data: Cdata,\r\n              zoom: 1.5,    //初始的大小比例\r\n              // center: [],设置地图中心店的坐标\r\n              //鼠标悬停效果\r\n              emphasis: {\r\n                label: {\r\n                  textStyle: { color: 'pink' },//悬停时字体颜色\r\n                },\r\n                itemStyle: {\r\n                  areaColor: 'red' //区域颜色\r\n                }\r\n              },\r\n              itemStyle: {\r\n                // 设置边框为白色\r\n                normal: {\r\n                  borderWidth: 0.5,//边界线大小\r\n                  borderColor: '#fff',//边界线颜色\r\n                }\r\n              }\r\n            }\r\n            ]\r\n          };\r\n          chinaCharts.setOption(CNoption);\r\n\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n    // 调用，执行函数\r\n    onMounted(() => {\r\n      getdata();\r\n    });\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}