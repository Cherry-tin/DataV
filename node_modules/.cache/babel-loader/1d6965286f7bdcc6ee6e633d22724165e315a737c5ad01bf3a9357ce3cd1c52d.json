{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\n// 导入生命周期函数\nimport { onMounted } from 'vue';\nexport default {\n  name: 'ChinaMap',\n  setup() {\n    const cnMap = () => {\n      // 录取人数数据\n      var Cdata = [];\n      //地图数据\n      var mapdata;\n      axios.get('http://localhost:8888/chinamap/list').then(snum => {\n        // 处理录取数据\n        const data = snum.data;\n        var area = []; //地区\n        var sumb = []; //人数\n        // 用循环遍历数据\n        for (var item = 0; item < data.length; item++) {\n          area.push(data[item].name);\n          sumb.push(data[item].value);\n        }\n        // 加入录取人数数据\n        for (var i = 0; i < area.length; i++) {\n          Cdata.push({\n            value: sumb[i],\n            name: area[i]\n          });\n        }\n        // then请求成功，catch请求失败\n        axios.get('http://localhost:8080/china.json').then(res => {\n          console.log(res.data);\n          // 储存地图数据\n          mapdata = res.data;\n          var chinaCharts = echarts.init(document.getElementById('cn_map'));\n          // 在axios的回调函数中注册地图矢量数据\n          echarts.registerMap('chinaMap', mapdata);\n          var CNoption = {\n            // 鼠标悬停显示数据\n            tooltip: {\n              trigger: 'item',\n              formatter: '{b}<br/>录取人数：{c}'\n            },\n            // 热力图\n            visualMap: {\n              show: true,\n              min: 0,\n              max: 200,\n              text: ['High', 'Low'],\n              realtime: false,\n              calculable: true,\n              inRange: {\n                color: ['#b6c7e5', '#4f7bde']\n              },\n              bottom: '5%'\n            },\n            series: [{\n              type: 'map',\n              map: 'chinaMap',\n              data: Cdata,\n              // roam: true,  //允许缩放以及拖动效果\n              // label: {\n              //   show: true  //显示标签\n              // },\n\n              zoom: 1.5,\n              //初始的大小比例\n              center: [106.278179, 38.46637],\n              // 设置地图中心点的坐标\n              // 鼠标悬停效果\n              emphasis: {\n                label: {\n                  textStyle: {\n                    color: '#fff'\n                  } //悬停时字体颜色\n                },\n\n                itemStyle: {\n                  areaColor: '#3c4bc6' //区域颜色\n                }\n              },\n\n              itemStyle: {\n                // 设置边框为白色\n                normal: {\n                  borderWidth: 0.5,\n                  //边界线大小\n                  borderColor: '#fff' //边界线颜色\n                }\n              }\n            }]\n          };\n\n          chinaCharts.setOption(CNoption);\n        }).catch(error => {\n          console.log(error);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    // 调用，执行函数\n    onMounted(() => {\n      cnMap();\n    });\n  }\n};","map":{"version":3,"names":["axios","echarts","onMounted","name","setup","cnMap","Cdata","mapdata","get","then","snum","data","area","sumb","item","length","push","value","i","res","console","log","chinaCharts","init","document","getElementById","registerMap","CNoption","tooltip","trigger","formatter","visualMap","show","min","max","text","realtime","calculable","inRange","color","bottom","series","type","map","zoom","center","emphasis","label","textStyle","itemStyle","areaColor","normal","borderWidth","borderColor","setOption","catch","error"],"sources":["D:\\VUE_project\\data_screen\\src\\components\\ChinaMap.vue"],"sourcesContent":["<template>\r\n  <div id=\"cn_map\"></div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\nimport * as echarts from 'echarts'\r\n// 导入生命周期函数\r\nimport { onMounted } from 'vue';\r\nexport default {\r\n  name: 'ChinaMap',\r\n  setup() {\r\n    const cnMap = () => {\r\n      // 录取人数数据\r\n      var Cdata = [];\r\n      //地图数据\r\n      var mapdata;\r\n      axios.get('http://localhost:8888/chinamap/list').then((snum) => {\r\n        // 处理录取数据\r\n        const data = snum.data\r\n        var area = [];//地区\r\n        var sumb = [];//人数\r\n        // 用循环遍历数据\r\n        for (var item = 0; item < data.length; item++) {\r\n          area.push(data[item].name);\r\n          sumb.push(data[item].value);\r\n        }\r\n        // 加入录取人数数据\r\n        for (var i = 0; i < area.length; i++) {\r\n          Cdata.push({\r\n            value: sumb[i],\r\n            name: area[i]\r\n          })\r\n        }\r\n        // then请求成功，catch请求失败\r\n        axios.get('http://localhost:8080/china.json').then((res) => {\r\n          console.log(res.data);\r\n          // 储存地图数据\r\n          mapdata = res.data;\r\n          var chinaCharts = echarts.init(document.getElementById('cn_map'));\r\n          // 在axios的回调函数中注册地图矢量数据\r\n          echarts.registerMap('chinaMap', mapdata);\r\n          var CNoption = {\r\n            // 鼠标悬停显示数据\r\n            tooltip: {\r\n              trigger: 'item',\r\n              formatter: '{b}<br/>录取人数：{c}'\r\n            },\r\n            // 热力图\r\n            visualMap: {\r\n              show: true,\r\n              min: 0,\r\n              max: 200,\r\n              text: ['High', 'Low'],\r\n              realtime: false,\r\n              calculable: true,\r\n              inRange: {\r\n                color: ['#b6c7e5', '#4f7bde']\r\n              },\r\n              bottom:'5%'\r\n\r\n            },\r\n\r\n            series: [{\r\n              type: 'map',\r\n              map: 'chinaMap',\r\n              data: Cdata,\r\n              // roam: true,  //允许缩放以及拖动效果\r\n              // label: {\r\n              //   show: true  //显示标签\r\n              // },\r\n\r\n              zoom: 1.5,    //初始的大小比例\r\n              center: [106.278179, 38.46637],// 设置地图中心点的坐标\r\n              // 鼠标悬停效果\r\n              emphasis: {\r\n                label: {\r\n                  textStyle: { color: '#fff' },//悬停时字体颜色\r\n                },\r\n                itemStyle: {\r\n                  areaColor: '#3c4bc6' //区域颜色\r\n                }\r\n              },\r\n              itemStyle: {\r\n                // 设置边框为白色\r\n                normal: {\r\n                  borderWidth: 0.5,//边界线大小\r\n                  borderColor: '#fff',//边界线颜色\r\n                }\r\n              }\r\n            }]\r\n\r\n          };\r\n          chinaCharts.setOption(CNoption);\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    }\r\n    // 调用，执行函数\r\n    onMounted(() => {\r\n      cnMap();\r\n    });\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#cn_map {\r\n  width: 620px;\r\n  height: 500px;\r\n  position: absolute;\r\n    left: 65px;\r\n  background-color: pink;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}